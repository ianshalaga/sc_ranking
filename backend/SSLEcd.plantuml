@startuml SSLEcd

' Classes

class Game {
    - name : String
    - code_name : String
}

class Platform {
    - name : String
    - code_name : String
}

class Region {
    - name : String
    - code_name : String
}

class EventType {
    ' Attributes
    - name : String
    - code_name : String
}

class DuelType {
    - name : String
    - code_name : String
    - name_synonymous : String
    - code_name_synonymous : String
}

class Player {
    ' Attributes
    - name : String
    - playlist : String
    - points_earned : Float
    - team_duels_played : Integer
    - team_duels_won : Integer
    - team_duels_lost : Integer
    - duels_played : Integer
    - duels_won : Integer
    - duels_lost : Integer
    - battles_played : Integer
    - battles_won : Integer
    - battles_lost : Integer
    - battles_draw : Integer
    - team_duels_win_rate : Float
    - duels_win_rate : Float
    - battles_win_rate : Float
    - team_duels_wlr : Float
    - duels_wlr : Float
    - battles_wlr : Float
    - points_earned : Float
    - player_level : Float
    ' Methods
    + team_duels_played() : Integer
    + team_duels_won() : Integer
    + team_duels_lost() : Integer
    + duels_played() : Integer
    + duels_won() : Integer
    + duels_lost() : Integer
    + battles_played() : Integer
    + battles_won() : Integer
    + battles_lost() : Integer
    + battles_draw() : Integer
    + team_duels_win_rate() : Float
    + duels_win_rate() : Float
    + battles_win_rate() : Float
    + team_duels_wlr() : Float
    + duels_wlr() : Float
    + battles_wlr() : Float
    + points_earned() : Float
    + player_level() : Float
}

class Character {
    ' Attributes
    - name : String
    - playlist : String
    - played_battles : Integer
    - won_battles : Integer
    - lost_battles : Integer
    - draw_battles : Integer
    - win_rate : Float
    - wlr : Float
    - points_earned : Float
    - player_level : Float
    ' Methods
    + played_battles() : Integer
    + won_battles() : Integer
    + lost_battles() : Integer
    + draw_battles() : Integer
    + win_rate() : Float
    + wlr() : Float
    + points_earned() : Float
    + player_level() : Float
}

class GameVersionPlatform {
    - version : String
}

class SocialMedia {
    - link : String
}

class PlayerCharacter {
    ' Attributes
    - battles_played : Integer
    - won_battles : Integer
    - lost_battles : Integer
    - draw_battles : Integer
    - win_rate : Float
    - wlr : Float
    - points_earned : Float
    - player_level : Float
    ' Methods
    + battles_played() : Integer
    + won_battles() : Integer
    + lost_battles() : Integer
    + draw_battles() : Integer
    + win_rate() : Float
    + wlr() : Float
    + points_earned() : Float
    + player_level() : Float
}

class Event {
    ' Attributes
    - name : String
    - code_name : String
    - playlist : String
    - bracket : String
    - date : Date
    - duels_played : Integer
    - combats_played : Integer
    ' Methods
    + teams() : List
    + players(): List
    + characters() : List
    + duels_played() : Integer
    + combats_played() : Integer
    + team_rivals(Team) : List
    + player_rivals(Player) : List
    + team_duels_won(Team) : Integer
    + team_duels_lost(Team) : Integer
    + team_duels_wlr(Team) : Float
    + team_duels_buchholz_wlr(Team) : Float
    + player_duels_won(Player) : Integer
    + player_duels_lost(Player) : Integer
    + player_duels_wlr(Player) : Float
    + player_duels_buchholz_wlr(Player) : Float
    + results() : List
}

class Position {
    ' Attributes
    - position : Integer
    ' Methods
    + position() : Integer
}

class Duel {
    ' Attributes
    - duel_order : Integer
    - video : String
    - combats_played : Integer
    ' Methods
    + combats_played() : Integer
    + teams() : List
    + players() : List
    + characters() : List
    + team_winner() : Team
    + player_winner() : Player
}

class Team {
    ' Attributes
    - name : String
    - initials : String
    - duels_played : Integer
    - duels_won : Integer
    - duels_lost : Integer
    - win_rate : Float
    - wlr : Float
    - points_earned : Float
    - level : Float
    ' Methods
    + players() : List
    + characters() : List
    + duels_played() : Integer
    + duels_won() : Integer
    + duels_lost() : Integer
    + win_rate() : Float
    + wlr() : Float
    + points_earned() : Float
    + level() : Float
}

class Combat {
    ' Attributes
    - combat_order : Integer
    - rounds_played : Integer
    ' Methods
    + get_player(PlayerSide) : Player
    + rounds_played() : Integer
    + rounds_won(Player) : Integer
    + rounds_lost(Player) : Integer
    + beating_factor(Player) : Float
    + raw_points(Player) : Integer
    + lvl_factor(Player, LvlFactor) : Float
    + won_points(Player) : Float
    + result(Player) : CombatResult
    + winner() : Player
}

class Round {
    ' Attributes
    - round_order : Integer
    - result_player1 : RoundResult
    - result_player2 : RoundResult
}

class Stage {
    ' Attributes
    - name : String
    - events_count : Integer
    - teams_count : Integer
    - players_count : Integer
    - characters_count : Integer
    - duels : Integer
    - combats : Integer
    ' Methods
    + events() : List
    + teams() : List
    + players() : List
    + characters() : List
    + events_count() : Integer
    + teams_count() : Integer
    + players_count() : Integer
    + characters_count() : Integer
    + duels() : Integer
    + combats() : Integer
    + generate_rankings() : void
}

class Execution {
    ' Methods
    + create_database() : void
    + generate_rankings() : void
}

class CombatHistory {

}

class DuelHistory {

}

' Relationships

Game "1" --- "1..*" GameVersionPlatform
Platform "1" -- "1..*" GameVersionPlatform
Player "1" -- "0.." SocialMedia : Have >
PlayerCharacter "0..*" -- "1" Character
PlayerCharacter "0..*" -- "1" Player
Event "1..*" -- "1" EventType : Is of >
Event "1..*" -- "1" Region : Belongs >
Event "1..*" -- "1" GameVersionPlatform : Is played >
Duel "1..*" -- "1" DuelType : Is of >
Duel "1.." -- "1" Event : Belongs >
Event "1" -- "2.." Team : Participate >
Team "0.." -- "2.." Player
Combat "1..*" -- "1" Player : Player1 >
Combat "1..*" -- "1" Player : Player2 >
Combat "1..*" -- "1" Character : Character1 >
Combat "1..*" -- "1" Character : Character2 >
Combat "1.." -- "1" Duel : Belongs >
Round "1.." -- "1" Combat : Belongs >
Stage "1" -- "1.." Event : Have >
Position "1.." -- "1" Event : Have <
Position "1.." -- "1" Player : Obtained <


' Enums

enum RankingType {
    PL
    CH
    PLCH
}

enum CombatResult {
    VICTORY
    DEFEAT
    DRAW
}

enum RoundResult {
    D = 240
    PW = 240
    W = 240
    WY = 168
    WB = 84
    LY = 168
    LB = 84
    PL = 0
}

enum PlayerSide {
    PLAYER1
    PLAYER2
}

enum LvlFactor {
    A = -(25/132)
    B = 1
}